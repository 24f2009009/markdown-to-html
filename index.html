<!DOCTYPE html>
<html lang='en'>
<head>
  <meta charset='UTF-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <title>Markdown to HTML â€” Live Preview with Tabs</title>
  <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css'>
  <style>
    :root { --bg: #0f111a; --panel: #1a1f2e; --text: #e6e6e6; --muted: #a5a5a5; }
    html, body { height: 100%; margin: 0; background: #0f111a; color: #e6e6e6; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; }
    .container { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; padding: 16px; height: 100%; box-sizing: border-box; }
    .panel { background: #141823; border: 1px solid #2b2f4a; border-radius: 8px; padding: 12px; display: flex; flex-direction: column; height: 100%; }
    #markdown-source { white-space: pre-wrap; padding: 12px; min-height: 360px; background: #111; color: #ddd; border-radius: 6px; border: 1px solid #2b2f4a; }
    #markdown-output { overflow: auto; padding: 12px; background: #1b1f2b; border-radius: 6px; min-height: 360px; }
    #markdown-tabs { display: flex; gap: 8px; padding: 6px 6px 12px; border-bottom: 1px solid #2b2f4a; }
    #markdown-tabs button { background: transparent; border: 1px solid #2b2f4a; color: var(--text); padding: 6px 12px; border-radius: 6px; cursor: pointer; }
    #markdown-tabs button.active { background: #2b2f4a; }
    @media (max-width: 860px) { .container { grid-template-columns: 1fr; } }
  </style>
</head>
<body>
  <div class='container'>
    <section class='panel' aria-label='Markdown source'>
      <div id='markdown-tabs' aria-label='Markdown tabs'>
        <button class='active' data-tab='source'>Source</button>
        <button data-tab='output'>Preview</button>
      </div>
      <div id='markdown-source' class='markdown-body' tabindex='0'></div>
    </section>

    <section class='panel' aria-label='HTML output'>
      <div id='markdown-output' class='markdown-body'></div>
    </section>
  </div>

  <script src='https://cdn.jsdelivr.net/npm/marked/marked.min.js'></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js'></script>
  <script>
    // Configure marked with syntax highlighting using highlight.js
    marked.setOptions({
      breaks: true,
      gfm: true,
      smartLists: true,
      highlight: function(code) {
        const res = hljs.highlightAuto(code);
        return res.value;
      }
    });

    const MARKDOWN_SOURCE = `# My Markdown to HTML Example

Welcome to **my sample Markdown file**.  
This document demonstrates common Markdown features and how they render when converted to HTML.

---

## ðŸ“‹ Table of Contents
1. [Headings](#headings)
2. [Text Formatting](#text-formatting)
3. [Lists](#lists)
4. [Links and Images](#links-and-images)
5. [Code Examples](#code-examples)
6. [Tables](#tables)
7. [Blockquotes](#blockquotes)
8. [Horizontal Rule](#horizontal-rule)

---

## Headings

Markdown supports 6 levels of headings:

# H1  
## H2  
### H3  
#### H4  
##### H5  
###### H6  

---

## Text Formatting

Hereâ€™s how you can format text:

- **Bold text**
- *Italic text* 
- ***Bold and italic***
- ~~Strikethrough~~
- \`Inline code\`

---

## Lists

### Unordered List
- Apples
- Bananas
- Oranges

### Ordered List
1. Step one
2. Step two
3. Step three

---

## Links and Images

### Link
You can include a [link to OpenAI](https://www.openai.com).

---

## Code Examples

Inline code example: \`console.log("Hello, world!");\`

### Code Block Example
\`\`\`python
def greet(name):
    print(f"Hello, {name}!")

greet("Markdown")
\`\`\`
`;

    // Initialize content
    document.getElementById('markdown-source').textContent = MARKDOWN_SOURCE;

    function render() {
      const html = marked.parse(MARKDOWN_SOURCE);
      document.getElementById('markdown-output').innerHTML = html;
      hljs.highlightAll();
    }

    // Initial render
    render();

    // Tabs behavior
    const tabs = document.querySelectorAll('#markdown-tabs button');
    tabs.forEach((btn) => {
      btn.addEventListener('click', () => {
        tabs.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        const tab = btn.getAttribute('data-tab');
        if (tab === 'source') {
          document.getElementById('markdown-source').style.display = 'block';
          document.getElementById('markdown-output').style.display = 'none';
        } else {
          document.getElementById('markdown-source').style.display = 'none';
          document.getElementById('markdown-output').style.display = 'block';
          // Re-render on tab switch to ensure output is up to date
          render();
        }
      });
    });

    // Start with Source visible
    document.getElementById('markdown-output').style.display = 'none';
  </script>
</body>
</html>
